#version 410
in vec2 pos;
out vec4 fragColor;

uniform sampler2D colormap;
uniform sampler2D depthmap;
uniform float brightness;

void main()
{
  float depth = texture(depthmap,pos).r;
  vec3 inputColor = textureLod(colormap,pos,pow(depth,30)*0.4).rgb;
  inputColor *= brightness;
  fragColor = vec4(pow(inputColor, vec3(1/1.2)), 1);
}
